(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/btc.e73cb1b2.svg"},110:function(e,t,a){e.exports=a.p+"static/media/eth.18708d3e.svg"},111:function(e,t,a){e.exports=a.p+"static/media/metamask.dcf1fb0e.svg"},112:function(e,t,a){e.exports=a.p+"static/media/ledger.4cfa0cb4.svg"},113:function(e,t,a){e.exports=a.p+"static/media/ledger_purple.db956da8.svg"},114:function(e,t,a){e.exports=a.p+"static/media/wallet-icon.1755dc6e.svg"},115:function(e,t,a){e.exports=a.p+"static/media/assets-bg.df3317e4.svg"},116:function(e,t,a){e.exports=a.p+"static/media/tick.91b58e9e.svg"},117:function(e,t,a){e.exports=a.p+"static/media/error.9c76fef5.svg"},118:function(e,t,a){e.exports=a.p+"static/media/lock.6b34fdcb.svg"},119:function(e,t,a){e.exports=a.p+"static/media/switch.31f6da16.svg"},120:function(e,t,a){e.exports=a.p+"static/media/logo.f8b51b82.png"},121:function(e,t,a){e.exports=a.p+"static/media/logo-text.3c2c3338.png"},217:function(e,t,a){e.exports=a(397)},222:function(e,t,a){},246:function(e,t,a){},248:function(e,t,a){},250:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){},256:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/completed.c5ff6920.svg"},340:function(e,t,a){},342:function(e,t,a){},344:function(e,t,a){},346:function(e,t,a){},348:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){},354:function(e,t,a){},356:function(e,t,a){},358:function(e,t,a){},360:function(e,t,a){},362:function(e,t,a){},364:function(e,t,a){},366:function(e,t,a){},368:function(e,t,a){},370:function(e,t,a){},372:function(e,t,a){},374:function(e,t,a){},393:function(e,t,a){},395:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),s=a.n(c),i=(a(222),a(3)),o=a(4),l=a(6),u=a(5),p=a(7),d=a(11),m=a(28),h=a(106),f=a(22),y=a(24),b=a(108),E=a(8),v=a.n(E),w=a(17),C=a(43),g=a.n(C),S=g.a.clone({basePath:"/",injectScript:"",debug:!1});g.a.merge(S,{eth:{rpc:{url:"https://rinkeby.infura.io/pjvC14Kn4cv47X3U8qLq"},network:4},btc:{rpc:{username:"liquality",password:"liquality123",url:"https://bitcoin.liquality.io"},feeNumberOfBlocks:2,network:"bitcoin"},debug:!0,basePath:"/swap-challenge/",injectScript:"\n  // GA\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-52D86Z5');\n\n  // Router GA Pageview\n  const sendPageView = (path) => {\n    window.ga('set', 'page', path);\n    window.ga('send', 'pageview');\n  }\n\n  var pushState = history.pushState;\n  history.pushState = function () {\n    pushState.apply(history, arguments);\n    sendPageView(arguments[2])\n  };\n\n  window.onpopstate = function (e) {\n    sendPageView(document.location.pathname + document.location.search)\n  };\n\n  // HOTJAR\n  (function(h,o,t,j,a,r){\n    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n    h._hjSettings={hjid:1102216,hjsv:6};\n    a=o.getElementsByTagName('head')[0];\n    r=o.createElement('script');r.async=1;\n    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n    a.appendChild(r);\n  })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\n\n  // CRISP\n  window.$crisp=[];\n  window.CRISP_WEBSITE_ID=\"aebdc8b6-79e1-4afd-83d8-70a9143bd88b\";\n  (function(){d=document;s=d.createElement(\"script\");s.src=\"https://client.crisp.chat/l.js\";s.async=1;d.getElementsByTagName(\"head\")[0].appendChild(s);})();\n  "}),console.log(S);var O=S,_=a(20),j=new _.Client;j.addProvider(new _.providers.ethereum.EthereumRPCProvider(localStorage.ethRpc||window.ethRpc||Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_ETH_RPC||O.eth.rpc.url)),"undefined"!==typeof web3&&j.addProvider(new _.providers.ethereum.EthereumMetaMaskProvider(web3.currentProvider,O.eth.network)),j.addProvider(new _.providers.ethereum.EthereumSwapProvider);var k=new _.Client;k.addProvider(new _.providers.bitcoin.BitcoreRPCProvider(localStorage.btcRpc||window.btcRpc||Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BTC_RPC||O.btc.rpc.url,localStorage.btcRpcUser||window.btcRpcUser||Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BTC_RPC_USER||O.btc.rpc.username,localStorage.btcRpcPass||window.btcRpcPass||Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BTC_RPC_PASS||O.btc.rpc.password,O.feeNumberOfBlocks)),k.addProvider(new _.providers.bitcoin.BitcoinLedgerProvider({network:_.networks[O.btc.network]})),k.addProvider(new _.providers.bitcoin.BitcoinSwapProvider({network:_.networks[O.btc.network]}));var T={eth:j,btc:k};function P(e){return T[e]}var x=Object.freeze({INITIATION:"initiation",AGREEMENT:"agreement",CLAIMING:"claiming",SETTLED:"settled"}),N=[{id:x.INITIATION,label:"Swap initiation"},{id:x.AGREEMENT,label:"Counterparties agree"},{id:x.CLAIMING,label:"Claiming"},{id:x.SETTLED,label:"Settlement"}],A=function(e){return new Promise(function(t){return setTimeout(t,e)})},I={SET_TRANSACTION:"SET_TRANSACTION"};function L(e,t){var a=x.INITIATION;e.a.fund.hash&&(a=x.AGREEMENT,e.b.fund.hash&&e.a.fund.confirmations>0&&e.b.fund.confirmations>0&&(a=x.CLAIMING,e.a.claim.hash&&(a=x.SETTLED))),t(Ce.setStep(a))}function W(e,t,a,n,r){return B.apply(this,arguments)}function B(){return(B=Object(w.a)(v.a.mark(function e(t,a,n,r,c){var s,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0,"claim"===n?s=P(t.assets["a"===a?"b":"a"].currency):"fund"===n&&(s=P(t.assets[a].currency)),e.next=5,s.getTransactionByHash(r.hash);case 5:return i=e.sent,c({type:I.SET_TRANSACTION,party:a,kind:n,tx:i}),e.next=9,A(5e3);case 9:e.next=0;break;case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var R={setTransaction:function(e,t,a){return n=Object(w.a)(v.a.mark(function n(r,c){var s;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:I.SET_TRANSACTION,party:e,kind:t,tx:a}),L((s=c().swap).transactions,r),n.next=5,W(s,e,t,a,r);case 5:case"end":return n.stop()}},n,this)})),function(e,t){return n.apply(this,arguments)};var n}},H={SET_SECRET:"SET_SECRET",SET_SECRET_HASH:"SET_SECRET_HASH"};var D={setSecret:function(e){return{type:H.SET_SECRET,secret:e}},setSecretHash:function(e){return{type:H.SET_SECRET_HASH,secretHash:e}}},F=a(109),M=a.n(F),U=a(110),V=a.n(U),G=a(48),$=a.n(G),q={btc:{icon:M.a,code:"BTC",isValidAddress:function(e){return/^[13mn][a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(e)},unitToCurrency:function(e){return $()(e).dividedBy(1e8).toNumber()},currencyToUnit:function(e){return $()(e).times(1e8).toNumber()}},eth:{icon:V.a,code:"ETH",isValidAddress:function(e){return/^[0-9a-fA-F]{40}$/.test(e)},unitToCurrency:function(e){return $()(e).dividedBy(1e18).toNumber()},currencyToUnit:function(e){return $()(e).times(1e18).toNumber()}}},Y=a(15),K=a.n(Y),X={a:K.a.duration(12,"h"),b:K.a.duration(6,"h")};function J(e,t){var a,n,r;return"b"===t?(r=K()(e).subtract(X.b),n=X.b,a=K()(e).subtract(X.a)):(r=e,n=X.a,a=K()(e).subtract(X.a)),{start:a,duration:n,time:r}}function z(e,t){return J(e,"a"===t?"b":"a")}function Z(){return K()().add(X.a)}var Q=a(10),ee=a(76),te=a.n(ee),ae=window.appSubPath||Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_BASE_PATH||O.basePath,ne="".concat(window.location.protocol,"//").concat(window.location.host).concat(ae);function re(e){var t,a,n,r,c,s,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o){var l=e.assets;a=l.a,t=l.b,n=l.rate;var u=e.wallets;c=u.a,r=u.b;var p=e.transactions;i=p.a,s=p.b}else{var d=e.assets;t=d.a,a=d.b,n=d.rate;var m=e.wallets;r=m.a,c=m.b;var h=e.transactions;s=h.a,i=h.b}var f={ccy1:t.currency,ccy1v:t.value,ccy1Addr:o?e.counterParty[t.currency].address:r.addresses[0],ccy1CounterPartyAddr:o?r.addresses[0]:e.counterParty[t.currency].address,ccy2:a.currency,ccy2v:a.value,ccy2Addr:o?e.counterParty[a.currency].address:c.addresses[0],ccy2CounterPartyAddr:o?c.addresses[0]:e.counterParty[a.currency].address,ccy3v:n.value,aFundHash:s.fund.hash,bFundHash:i.fund.hash,aFundBlock:s.fund.block,bFundBlock:i.fund.block,secretHash:e.secretParams.secretHash,expiration:e.expiration.unix(),isPartyB:!0===o};return"".concat(ne,"#").concat(te.a.stringify(f))}function ce(e){var t;if(e.hash){var a=te.a.parse(e.hash.replace("#",""));return{assets:{a:{currency:a.ccy1,value:parseFloat(a.ccy1v)},b:{currency:a.ccy2,value:parseFloat(a.ccy2v)},rate:{value:parseFloat(a.ccy3v)}},wallets:{a:{addresses:[a.ccy1Addr]},b:{addresses:[a.ccy2Addr]}},counterParty:(t={},Object(Q.a)(t,a.ccy1,{address:a.ccy1CounterPartyAddr}),Object(Q.a)(t,a.ccy2,{address:a.ccy2CounterPartyAddr}),t),transactions:{a:{fund:{hash:a.aFundHash,block:a.aFundBlock},claim:{}},b:{fund:{hash:a.bFundHash,block:a.bFundBlock},claim:{}}},secretParams:{secretHash:a.secretHash},expiration:K.a.unix(a.expiration),isPartyB:"true"===a.isPartyB,link:e.href}}}var se={SWITCH_SIDES:"SWITCH_SIDES",SET_STEP:"SET_STEP",SET_EXPIRATION:"SET_EXPIRATION",SET_LINK:"SET_LINK",SET_IS_VERIFIED:"SET_IS_VERIFIED"};function ie(e){return{type:se.SET_EXPIRATION,expiration:e}}function oe(e){return{type:se.SET_LINK,link:e}}function le(e){return{type:se.SET_IS_VERIFIED,isVerified:e}}function ue(){alert("Warning: On this alpha version, do not close your browser during the swap. The swap state will be lost.")}function pe(e,t){return de.apply(this,arguments)}function de(){return(de=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s,i,o,l,u,p,d,m,h,f,y,b,E,w;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().swap,r=n.assets,c=n.wallets,s=n.counterParty,i=n.secretParams,o=n.expiration,l=n.link,u=n.isPartyB,p=P(r.a.currency),d=i.secretHash){e.next=10;break}return m="".concat(r.a.value).concat(r.a.currency).concat(r.b.value).concat(r.b.currency).concat(c.a.addresses[0]).concat(s[r.a.currency].address).concat(c.b.addresses[0]).concat(s[r.b.currency].address),e.next=7,p.generateSecret(m);case 7:h=e.sent,d=_.crypto.sha256(h),t(D.setSecret(h));case 10:return u?f=J(o,"b").time:(f=Z(),t(ie(f))),e.next=13,p.getBlockHeight();case 13:return y=e.sent,b=q[r.a.currency].currencyToUnit(r.a.value),E=[b,s[r.a.currency].address,c.a.addresses[0],d,f.unix()],O.debug&&console.log("Initiating Swap",E),e.next=19,p.initiateSwap.apply(p,E);case 19:w=e.sent,t(R.setTransaction("a","fund",{hash:w,block:y})),t(ve),l||t(oe(re(a().swap)));case 23:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function me(){return(me=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s,i,o,l,u,p,d,m;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a().swap,r=n.assets.b,c=r.currency,s=r.value,i=n.wallets.b.addresses,o=n.counterParty,l=n.secretParams,u=n.transactions,p=n.expiration,d=P(c),m=q[c].currencyToUnit(s);case 3:return e.next=6,d.verifyInitiateSwapTransaction(u.b.fund.hash,m,i[0],o[c].address,l.secretHash,p.unix());case 6:if(!e.sent){e.next=10;break}return t(le(!0)),e.abrupt("break",14);case 10:return e.next=12,A(5e3);case 12:e.next=3;break;case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function he(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s,i,o,l,u,p,d,m,h;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().swap,r=n.assets.b,c=r.currency,s=r.value,i=n.wallets.b.addresses,o=n.counterParty,l=n.secretParams,u=n.expiration,p=P(c),d=q[c].currencyToUnit(s),m=J(u,"b").time,e.next=6,p.findInitiateSwapTransaction(d,i[0],o[c].address,l.secretHash,m.unix());case 6:h=e.sent,t(R.setTransaction("b","fund",h));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ye(){return function(){var e=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s,i,o,l,u,p,d,m;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().swap,r=n.assets,c=n.wallets,s=n.transactions,i=n.counterParty,o=n.secretParams,l=n.expiration,u=n.isPartyB,p=P(r.a.currency),d=J(l,u?"b":"a").time,e.next=5,p.findClaimSwapTransaction(s.a.fund.hash,i[r.a.currency].address,c.a.addresses[0],o.secretHash,d.unix());case 5:m=e.sent,t(D.setSecret(m.secret)),t(R.setTransaction("b","claim",m)),t(Object(y.push)("/redeem"));case 9:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}function be(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s,i,o,l,u,p,d,m,h,f;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().swap,r=n.assets,c=n.wallets,s=n.counterParty,i=n.transactions,o=n.secretParams,l=n.isPartyB,u=n.expiration,p=P(r.b.currency),e.next=4,p.getBlockHeight();case 4:return d=e.sent,m=z(u,l?"b":"a").time,h=[i.b.fund.hash,c.b.addresses[0],s[r.b.currency].address,o.secret,m.unix()],O.debug&&console.log("Claiming Swap",h),e.next=10,p.claimSwap.apply(p,h);case 10:f=e.sent,t(R.setTransaction("a","claim",{hash:f,block:d})),t(ve);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ve(e,t){return we.apply(this,arguments)}function we(){return(we=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a().swap,r=n.isPartyB,c=n.expiration,s=J(c,r?"b":"a").time,!1;case 3:if(!K()().isAfter(s)){e.next=7;break}return e.abrupt("break",11);case 7:return e.next=9,A(5e3);case 9:e.next=3;break;case 11:t(Object(y.push)("/refund"));case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ce={switchSides:function(){return{type:se.SWITCH_SIDES}},setStep:function(e){return{type:se.SET_STEP,step:e}},setExpiration:ie,setLink:oe,setIsVerified:le,initiateSwap:function(){return e=Object(w.a)(v.a.mark(function e(t,a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t,a);case 2:t(le(!0)),t(Object(y.push)("/counterPartyLink"));case 4:case"end":return e.stop()}},e,this)})),function(t,a){return e.apply(this,arguments)};var e},confirmSwap:function(){return e=Object(w.a)(v.a.mark(function e(t,a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t,a);case 2:t(ye()),t(Object(y.push)("/waiting")),ue();case 5:case"end":return e.stop()}},e,this)})),function(t,a){return e.apply(this,arguments)};var e},findInitiateSwapTransaction:he,verifyInitiateSwapTransaction:function(e,t){return me.apply(this,arguments)},waitForSwapConfirmation:function(){return e=Object(w.a)(v.a.mark(function e(t,a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(y.push)("/waiting")),ue(),e.next=4,he(t,a);case 4:t(Object(y.push)("/redeem"));case 5:case"end":return e.stop()}},e,this)})),function(t,a){return e.apply(this,arguments)};var e},waitForSwapClaim:ye,waitForExpiration:ve,redeemSwap:function(){return e=Object(w.a)(v.a.mark(function e(t,a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,a);case 2:t(Object(y.push)("/completed"));case 3:case"end":return e.stop()}},e,this)})),function(t,a){return e.apply(this,arguments)};var e},refundSwap:function(){return e=Object(w.a)(v.a.mark(function e(t,a){var n,r,c,s,i,o,l,u,p,d;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().swap,r=n.assets,c=n.wallets,s=n.counterParty,i=n.transactions,o=n.secretParams,l=n.isPartyB,u=n.expiration,p=P(r.a.currency),d=J(u,l?"b":"a").time,e.next=5,p.refundSwap(i.a.fund.hash,s[r.a.currency].address,c.a.addresses[0],o.secretHash,d.unix());case 5:case"end":return e.stop()}},e,this)})),function(t,a){return e.apply(this,arguments)};var e}},ge=a(399),Se=a(23),Oe=a(398),_e=a(122),je={TOGGLE_WALLET_CONNECT:"TOGGLE_WALLET_CONNECT",CHOOSE_WALLET:"CHOOSE_WALLET",CONNECT_WALLET:"CONNECT_WALLET",DISCONNECT_WALLET:"DISCONNECT_WALLET"};function ke(e,t){return{type:je.CHOOSE_WALLET,party:e,wallet:t}}function Te(e,t,a){return{type:je.CONNECT_WALLET,party:e,addresses:t,balance:a}}var Pe={waitForWallet:function(e,t,a){return n=Object(w.a)(v.a.mark(function t(n,r){var c,s,i,o,l,u,p,d,m,h,f,y,b,E,w,C,g,S,O,_,j,k;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().swap,s=c.assets,i=c.wallets,o=c.isPartyB,l=s[e].currency,u=P(l),"eth"===l&&window.ethereum.enable(),n(ke(e,a)),p=20,t.next=8,u.getUnusedAddress();case 8:d=t.sent.address,m=!1,h=[],f=0;case 12:if(m){t.next=48;break}return t.next=15,u.getAddresses(f,p);case 15:y=(y=t.sent).map(function(e){return e.address}),b=!0,E=!1,w=void 0,t.prev=20,C=y[Symbol.iterator]();case 22:if(b=(g=C.next()).done){t.next=31;break}if((S=g.value)!==d){t.next=27;break}return m=!0,t.abrupt("break",31);case 27:h.push(S);case 28:b=!0,t.next=22;break;case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(20),E=!0,w=t.t0;case 37:t.prev=37,t.prev=38,b||null==C.return||C.return();case 40:if(t.prev=40,!E){t.next=43;break}throw w;case 43:return t.finish(40);case 44:return t.finish(37);case 45:f+=p,t.next=12;break;case 48:return O=[d].concat(h),o&&(_=i[e].addresses[0],O.includes(_)&&(O=[_].concat(Object(_e.a)(O.filter(function(e){return e!==_}))))),t.next=52,u.getBalance(O);case 52:j=t.sent,k=q[l].unitToCurrency(j).toFixed(3),n(Te(e,O,k));case 55:case"end":return t.stop()}},t,this,[[20,33,37,45],[38,,40,44]])})),function(e,t){return n.apply(this,arguments)};var n},toggleWalletConnect:function(e,t){return{type:je.TOGGLE_WALLET_CONNECT,party:e,target:t}},chooseWallet:ke,connectWallet:Te,disconnectWallet:function(e){return{type:je.DISCONNECT_WALLET,party:e}}},xe=(a(246),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=["Button","btn"];return this.props.className&&t.push(this.props.className),this.props.primary?t.push("btn-primary"):this.props.secondary&&t.push("btn-secondary"),this.props.wide&&t.push("Button_wide"),this.props.small&&t.push("Button_small"),r.a.createElement("button",{className:t.join(" "),disabled:this.props.disabled,onClick:function(t){return e.props.onClick(t)}},this.props.icon&&r.a.createElement("span",{class:"Button_icon"},r.a.createElement("img",{src:this.props.icon})),this.props.children)}}]),t}(n.Component)),Ne=a(111),Ae=a.n(Ne),Ie=a(112),Le=a.n(Ie),We=a(113),Be=a.n(We),Re={metamask:{icon:Ae.a,name:"MetaMask"},ledger:{icon:Le.a,name:"Ledger"},ledger_purple:{icon:Be.a}},He=a(114),De=a.n(He),Fe=(a(248),function(e){return r.a.createElement("div",{class:"WalletDisplay"},r.a.createElement("img",{class:"WalletDisplay_icon",src:Re[e.type]?Re[e.type].icon:De.a}),r.a.createElement("p",{class:"WalletDisplay_address"},e.address&&e.address),e.connected?r.a.createElement(xe,{small:!0,secondary:!0,class:"WalletDisplay_message",onClick:function(t){return e.onButtonClick(t)}},"Change wallet"):r.a.createElement(xe,{small:!0,primary:!0,class:"WalletDisplay_message error",onClick:function(t){return e.onButtonClick(t)}},"Connect wallet"),e.balance&&r.a.createElement("div",null,r.a.createElement("p",null,"Spendable"),r.a.createElement("p",{class:"WalletDisplay_balance"},e.balance," ",q[e.currency].code)))}),Me=a(47),Ue=a.n(Me),Ve=(a(250),function(e){return r.a.createElement("div",{className:"WalletChoose"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.subTitle),r.a.createElement("h2",null,"Pay with ",e.currency.toUpperCase()),e.wallets.map(function(t){return r.a.createElement("div",null,r.a.createElement("div",{class:"WalletChoose_wallet"},r.a.createElement("p",null,r.a.createElement("a",{href:"#"},"Testnet only")),r.a.createElement("img",{src:Re[t].icon,className:"WalletPanel_walletImg"}),r.a.createElement("h5",null,Re[t].name),r.a.createElement("p",null,r.a.createElement("a",{href:"#"},"Trouble connecting?"))),r.a.createElement(xe,{wide:!0,primary:!0,onClick:function(){return e.chooseWallet(t)}},"Connect"))}))}),Ge=(a(252),function(e){return r.a.createElement("div",{className:"WalletConnecting"},r.a.createElement("h2",null,"eth"===e.currency?"Login to MetaMask":"To confirm"),"btc"===e.currency&&r.a.createElement("p",null,"Navigate to your Bitcoin account"),r.a.createElement("div",{className:"WalletConnecting_wallet"},r.a.createElement("img",{src:Re[e.wallet].icon,className:"WalletPanel_walletImg"}),r.a.createElement("h5",null,Re[e.wallet].name)),"ledger"===e.wallet&&r.a.createElement("div",{className:"WalletConnecting_ledger"},r.a.createElement("img",{src:Re[e.wallet+"_purple"].icon}),r.a.createElement("div",{className:"WalletConnecting_ledgerPin"},r.a.createElement("p",null,"Insert Ledger Pin"))),r.a.createElement(xe,{wide:!0,primary:!0,onClick:e.cancelWallet},e.cancelText))});a(254);var $e=function(e){return r.a.createElement("div",{className:"WalletConnected"},r.a.createElement("h2",null,Re[e.wallet].name," Connected"),r.a.createElement("div",{className:"WalletConnected_wallet"},r.a.createElement("img",{src:Re[e.wallet].icon,className:"WalletPanel_walletImg"}),r.a.createElement("h5",null,Re[e.wallet].name),r.a.createElement("p",null,(t=e.addresses[0],"".concat(t.substring(0,6),"...").concat(t.substring(t.length-6))))),r.a.createElement(xe,{wide:!0,primary:!0,onClick:e.disconnectWallet},e.disconnectText));var t},qe={btc:{ledger:{multiAddress:!0,connectTitle:"Plug in and enter",connectSubtitle:""}},eth:{metamask:{multiAddress:!1,connectTitle:"Login to MetaMask",connectSubtitle:""},ledger:{multiAddress:!0,connectTitle:"Plug in and enter",connectSubtitle:"Choose ethereum application and enable smart contract support"}}},Ye=(a(256),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).chooseWallet=a.chooseWallet.bind(Object(Se.a)(Object(Se.a)(a))),a.disconnectWallet=a.disconnectWallet.bind(Object(Se.a)(Object(Se.a)(a))),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"chooseWallet",value:function(e){var t=this.props,a=t.id,n=t.currency;this.props.chooseWallet(a,n,e)}},{key:"disconnectWallet",value:function(){var e=this.props.id;this.props.disconnectWallet(e)}},{key:"render",value:function(){var e,t=this.props;return e=t.walletConnected?r.a.createElement($e,{addresses:t.addresses,currency:t.currency,disconnectText:"Disconnect",disconnectWallet:this.disconnectWallet,wallet:t.wallet}):t.walletChosen?r.a.createElement(Ge,{title:qe[t.currency][t.wallet].connectTitle,subtitle:qe[t.currency][t.wallet].connectSubtitle,cancelText:"Cancel",cancelWallet:this.disconnectWallet,currency:t.currency,wallet:t.wallet}):r.a.createElement(Ve,{title:"Liquality",subTitle:"By connecting you understand that you are on your own trust a cutting-edge technology without need to trust your trading partner",wallets:"eth"===t.currency?["metamask"]:["ledger"],chooseWallet:this.chooseWallet,currency:t.currency}),r.a.createElement("div",null,r.a.createElement(Ue.a,{id:t.id,open:t.open,onClose:t.handleClose},r.a.createElement("div",{className:"WalletConnectModal"},r.a.createElement("div",{className:"WalletConnectModal_body"},e))))}}]),t}(n.Component)),Ke=(a(340),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.assets,a=t.a,n=t.b,c=this.props.wallets,s=c.a,i=c.b;return r.a.createElement("div",{class:"WalletPanel"},r.a.createElement("div",{class:"row justify-content-between no-gutters"},r.a.createElement("div",{class:"col WalletPanel_left"},r.a.createElement(Fe,{currency:a.currency,type:s.type,balance:s.balance,address:s.addresses[0],connected:s.connected,onButtonClick:function(t){return e.props.onToggleWalletConnect("a",t.currentTarget)}})),r.a.createElement("div",{class:"col WalletPanel_right"},r.a.createElement(Fe,{currency:n.currency,type:i.type,balance:i.balance,address:i.addresses[0],connected:i.connected,onButtonClick:function(t){return e.props.onToggleWalletConnect("b",t.currentTarget)}}))),r.a.createElement(Ye,{open:s.connectOpen,currency:a.currency,id:"a",walletChosen:s.chosen,wallet:s.type,chooseWallet:this.props.waitForWallet,disconnectWallet:this.props.onWalletDisconnected,anchorEl:s.anchorEl,addresses:s.addresses,walletConnected:s.connected,handleClose:function(t){return e.props.onToggleWalletConnect("a",t.currentTarget)}}),r.a.createElement(Ye,{open:i.connectOpen,currency:n.currency,id:"b",walletChosen:i.chosen,wallet:i.type,chooseWallet:this.props.waitForWallet,disconnectWallet:this.props.onWalletDisconnected,anchorEl:i.anchorEl,addresses:i.addresses,walletConnected:i.connected,handleClose:function(t){return e.props.onToggleWalletConnect("b",t.currentTarget)}}))}}]),t}(n.Component)),Xe=Object(d.connect)(function(e){return{assets:e.swap.assets,wallets:e.swap.wallets,isPartyB:e.swap.isPartyB}},{onToggleWalletConnect:Pe.toggleWalletConnect,waitForWallet:Pe.waitForWallet,onWalletConnected:Pe.connectWallet,onWalletDisconnected:Pe.disconnectWallet})(Ke),Je=a(115),ze=a.n(Je),Ze=(a(342),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"SwapPairPanel"},r.a.createElement("div",{className:"SwapPairPanel_assetContainer"},r.a.createElement("img",{src:q[this.props.haveCurrency].icon,className:"SwapPairPanel_asset SwapPairPanel_asset_left"}),r.a.createElement("img",{src:q[this.props.wantCurrency].icon,className:"SwapPairPanel_asset SwapPairPanel_asset_right"}),r.a.createElement("img",{src:ze.a,className:"SwapPairPanel_assetsBG"}),this.props.icon&&r.a.createElement("img",{src:this.props.icon,className:"SwapPairPanel_icon",onClick:function(t){return e.props.onIconClick(t)}})),r.a.createElement("div",{className:"SwapPairPanel_labels"},r.a.createElement("h1",{className:"SwapPairPanel_labels_have"},this.props.haveLabel),r.a.createElement("h1",{className:"SwapPairPanel_labels_want"},this.props.wantLabel)))}}]),t}(n.Component));Ze.defaultProps={haveLabel:"Have",wantLabel:"Want"};var Qe=Ze,et={CHANGE_AMOUNT:"CHANGE_AMOUNT"};var tt={changeAmount:function(e,t){return function(a,n){a({type:et.CHANGE_AMOUNT,party:e,newValue:t});var r=n().swap.assets,c={type:"a",value:r.a.value},s={type:"b",value:r.b.value},i={type:"rate",value:r.rate.value},o=g.a.filter([c,s,i],function(e){return null!==e.value&&"0"!==e.value&&""!==e.value}),l=g.a.filter([c,s,i],function(e){return null===e.value||"0"===e.value||""===e.value}),u=3===o.length,p=2===o.length,d=p&&"a"===l[0].type,m=p&&"b"===l[0].type,h=p&&"rate"===l[0].type;if(o.length>=2)if((u&&"rate"===e||d)&&"a"!==e){var f=+(parseFloat(s.value)*parseFloat(i.value)).toFixed(6);a({type:et.CHANGE_AMOUNT,party:"a",newValue:f.toString()})}else if(m&&"b"!==e){var y=+(parseFloat(c.value)/parseFloat(i.value)).toFixed(6);a({type:et.CHANGE_AMOUNT,party:"b",newValue:y.toString()})}else if((u||h)&&"rate"!==e){var b=+(parseFloat(c.value)/parseFloat(s.value)).toFixed(6);a({type:et.CHANGE_AMOUNT,party:"rate",newValue:b.toString()})}}}},at=(a(344),function(e){return r.a.createElement("div",{className:"CurrencyInput"},r.a.createElement("h3",{className:"CurrencyInput_heading"},q[e.currency].code),r.a.createElement("input",{type:"number",readOnly:e.disabled,value:e.value,className:"CurrencyInput_input",placeholder:"0.00",onChange:function(t){return e.onChange(t.target.value)}}))});at.defaultProps={value:0};var nt=at,rt=(a(346),function(e){return r.a.createElement("div",{className:"Rate"},r.a.createElement("h5",{className:"Rate_heading"},"Rate"),r.a.createElement("h5",{className:"Rate_stable"},r.a.createElement("strong",null,"1 ",q[e.currencyB].code)),r.a.createElement("h4",{className:"Rate_equal"},"="),r.a.createElement("h6",null,r.a.createElement("input",{type:"number",readOnly:e.disabled,value:e.value,className:"Rate_input",placeholder:"0.0000",onChange:function(t){return e.onChange(t.target.value)}}),q[e.currencyA].code))});rt.defaultProps={value:0};var ct=rt,st=(a(348),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.assets,a=t.a,n=t.b,c=t.rate;return r.a.createElement("div",{className:"CurrencyInputs"},r.a.createElement("div",{className:"row justify-content-between no-gutters"},r.a.createElement("div",{className:"col CurrencyInputs_left"},r.a.createElement(nt,{currency:a.currency,value:a.value,disabled:this.props.disabled,onChange:function(t){return e.props.onAmountChange("a",t)}})),r.a.createElement("div",{class:"col CurrencyInputs_right"},r.a.createElement(nt,{currency:n.currency,value:n.value,disabled:this.props.disabled,onChange:function(t){return e.props.onAmountChange("b",t)}})),!this.props.disabled&&r.a.createElement("div",{className:"CurrencyInputs_centre"},r.a.createElement(ct,{currencyA:a.currency,currencyB:n.currency,value:c.value,disabled:this.props.disabled,onChange:function(t){return e.props.onAmountChange("rate",t)}}))))}}]),t}(n.Component)),it=Object(d.connect)(function(e,t){return{assets:e.swap.assets,disabled:t.disabled}},{onSwitchSides:Ce.switchSides,onAmountChange:tt.changeAmount})(st),ot={CHANGE_COUNTER_PARTY_ADDRESS:"CHANGE_COUNTER_PARTY_ADDRESS"};var lt={changeCounterPartyAddress:function(e,t,a){return{type:ot.CHANGE_COUNTER_PARTY_ADDRESS,currency:e,newValue:t,valid:a}}},ut=(a(350),a(116)),pt=a.n(ut),dt=a(117),mt=a.n(dt),ht=function(e){var t,a=q[e.currency].isValidAddress(e.value);return a||(t="Invalid Address"),r.a.createElement("div",{class:"AddressInput"},r.a.createElement("div",{class:"AddressInput_wrapper"},r.a.createElement("div",{className:"AddressInput_box "+(a?"AddressInput_box_valid":"AddressInput_box_invalid")},r.a.createElement("img",{class:"AddressInput_icon",src:q[e.currency].icon}),r.a.createElement("input",{class:"AddressInput_input",value:e.value,onChange:function(t){return e.onChange(t.target.value,q[e.currency].isValidAddress(t.target.value))}})),r.a.createElement("img",{class:"AddressInput_status",src:a?pt.a:mt.a})),r.a.createElement("div",{class:"AddressInput_message"},t))},ft=(a(352),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.assets,a=t.a,n=t.b,c=this.props.counterParty;return r.a.createElement("div",{class:"CounterPartyWallets"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("h5",{class:"CounterPartyWallets_heading"},"Receive From"),r.a.createElement(ht,{currency:n.currency,value:c[n.currency].address,onChange:function(t,a){return e.props.onCounterPartyAddressChange(n.currency,t,a)}})),r.a.createElement("div",{class:"col"},r.a.createElement("h5",{class:"CounterPartyWallets_heading"},"Send To"),r.a.createElement(ht,{currency:a.currency,value:c[a.currency].address,onChange:function(t,n){return e.props.onCounterPartyAddressChange(a.currency,t,n)}}))))}}]),t}(n.Component)),yt=Object(d.connect)(function(e){return{assets:e.swap.assets,counterParty:e.swap.counterParty}},{onCounterPartyAddressChange:lt.changeCounterPartyAddress})(ft),bt=a(118),Et=a.n(bt),vt=a(59),wt=a.n(vt),Ct=(a(354),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={expiration:Z()},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.setState({expiration:Z()})},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{class:"InitiatorExpirationInfo"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("div",null,r.a.createElement("img",{src:Et.a,class:"InitiatorExpirationInfo_icon"}),"Funds Locked ",X.a.asHours().toFixed(2)," HRS"),r.a.createElement("div",null,r.a.createElement("img",{src:wt.a,class:"InitiatorExpirationInfo_icon"}),"Offer Active ",X.b.asHours().toFixed(2)," HRS"),r.a.createElement("div",null,r.a.createElement("strong",null,"~ ",this.state.expiration.format("D/M/YY HH:mm")))))}}]),t}(n.Component)),gt=Object(d.connect)(function(e){return{}},{refundSwap:Ce.refundSwap})(Ct),St=a(60);var Ot,_t=function(e){return function(t){function a(){return Object(i.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(o.a)(a,[{key:"handleCopyClick",value:function(){var e=document.createElement("input");e.value=this.props.link,e.style="position: absolute; top: -2000px;",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},{key:"render",value:function(){var t=this;return r.a.createElement(e,Object.assign({onCopyClick:function(){return t.handleCopyClick()}},this.props))}}]),a}(r.a.Component)},jt=a(42),kt=a.n(jt),Tt=(a(356),_t(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state=a.getExpirationState(),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getTransaction",value:function(){var e=this.props.transactions,t=[e.b.claim,e.a.claim,e.b.fund,e.a.fund];return this.props.step!==x.INITIATION&&this.props.step!==x.AGREEMENT||(t=[e.a.fund,e.b.fund]),t.find(function(e){return e.hash})||{}}},{key:"getExpirationState",value:function(){var e=this.props.isPartyB?"b":"a",t=z(this.props.expiration,e);return{start:t.start,duration:t.duration,expiration:t.time,now:K()(),transaction:this.getTransaction()}}},{key:"componentDidMount",value:function(){this.interval=setInterval(this.tick.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.setState(this.getExpirationState())}},{key:"render",value:function(){var e=this,t=this.state.now.isAfter(this.state.expiration)?this.state.expiration:this.state.now,a=K.a.duration(this.state.expiration.diff(t)),n=K.a.duration(t.diff(this.state.start)),c=this.state.duration,s=((c.asSeconds()-a.asSeconds())/c.asSeconds()*100).toFixed(2);return r.a.createElement("div",{class:"ExpirationDetails"},r.a.createElement("img",{src:wt.a,class:"ExpirationDetails_clock"}),r.a.createElement("div",{class:"ExpirationDetails_passed"},K.a.utc(n.asMilliseconds()).format("HH:mm"),"hr"),r.a.createElement("div",{class:"ExpirationDetails_center"},r.a.createElement("div",{class:"ExpirationDetails_top"},r.a.createElement("div",{class:"ExpirationDetails_terms"},r.a.createElement("em",null,"Get ",this.props.assets.b.value," ",q[this.props.assets.b.currency].code,"\xa0for ",this.props.assets.a.value," ",q[this.props.assets.a.currency].code),"\xa0Active for ",K.a.utc(a.asMilliseconds()).format("HH:mm"),"hr ",this.state.expiration.format("D/M/Y HH:mm")),r.a.createElement("div",{class:"ExpirationDetails_link"},r.a.createElement("a",{onClick:function(){return e.props.onCopyClick()}},"Swap link",r.a.createElement("img",{src:kt.a})))),r.a.createElement("div",{class:"ExpirationDetails_progress"},r.a.createElement("div",{class:"ExpirationDetails_progress_fill",style:{width:"".concat(s,"%")}})),r.a.createElement("div",{class:"ExpirationDetails_bottom"},r.a.createElement("div",{class:"ExpirationDetails_transaction"},r.a.createElement("strong",null,"Transaction ID: ")," ",this.state.transaction.hash),r.a.createElement("div",{class:"ExpirationDetails_confirmations"},"Confirmations: ",this.state.transaction.confirmations))),r.a.createElement("div",{class:"ExpirationDetails_left"},K.a.utc(a.asMilliseconds()).format("HH:mm"),"hr"))}}]),t}(n.Component))),Pt=Object(d.connect)(function(e,t){return Object(St.a)({expiration:e.swap.expiration,isPartyB:e.swap.isPartyB,assets:e.swap.assets,transactions:e.swap.transactions,link:e.swap.link,step:e.swap.step},t)},{})(Tt),xt=a(61),Nt=a.n(xt),At=a(119),It=a.n(At),Lt=(a(358),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"walletsValid",value:function(){var e=ce(window.location);return this.props.wallets.a.addresses.includes(e.wallets.a.addresses[0])&&this.props.wallets.b.addresses.includes(e.wallets.b.addresses[0])}},{key:"walletsConnected",value:function(){return this.props.wallets.a.connected&&this.props.wallets.b.connected}},{key:"counterPartyAddressesValid",value:function(){return this.props.counterParty[this.props.assets.a.currency].valid&&this.props.counterParty[this.props.assets.b.currency].valid}},{key:"initiationConfirmed",value:function(){return this.props.isVerified&&this.props.transactions.b.fund.confirmations>0}},{key:"nextEnabled",value:function(){return 0===this.getErrors().length}},{key:"getErrors",value:function(){var e=[];return this.walletsConnected()||e.push("Wallets are not connected"),this.props.isPartyB&&!this.walletsValid()&&e.push("The connected wallets must match the wallets supplied for the swap"),this.props.isPartyB||this.counterPartyAddressesValid()||e.push("Invalid counter party addresses"),this.props.isPartyB&&!this.initiationConfirmed()&&e.push("Counter party yet to lock funds"),e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"SwapInitiation"},r.a.createElement(Qe,{haveCurrency:this.props.assets.a.currency,wantCurrency:this.props.assets.b.currency,icon:It.a,onIconClick:function(){return e.props.switchSides()}}),r.a.createElement("div",{class:"SwapInitiation_top"},r.a.createElement(it,null)),r.a.createElement(Xe,null),r.a.createElement("div",{class:"SwapInitiation_bottom"},this.props.isPartyB?r.a.createElement("span",{class:"SwapInitiation_handshake"},r.a.createElement("img",{src:Nt.a})):r.a.createElement("h5",{class:"SwapInitiation_counterPartyLabel"},"Counter party wallets"),this.props.isPartyB||r.a.createElement(yt,null),this.props.isPartyB?r.a.createElement(Pt,null):r.a.createElement(gt,null),!this.props.isPartyB&&r.a.createElement(xe,{wide:!0,primary:!0,disabled:!this.nextEnabled(),onClick:this.props.initiateSwap},"Next"),this.props.isPartyB&&r.a.createElement(xe,{wide:!0,primary:!0,disabled:!this.nextEnabled(),onClick:this.props.confirmSwap},"Confirm Terms"),r.a.createElement("div",{class:"SwapInitiation_errors"},this.getErrors().map(function(e){return r.a.createElement("p",null,e)}))))}}]),t}(n.Component)),Wt=Object(d.connect)(function(e){return{expiration:e.swap.expiration,isPartyB:e.swap.isPartyB,wallets:e.swap.wallets,assets:e.swap.assets,counterParty:e.swap.counterParty,transactions:e.swap.transactions,isVerified:e.swap.isVerified}},{initiateSwap:Ce.initiateSwap,confirmSwap:Ce.confirmSwap,switchSides:Ce.switchSides})(Lt),Bt=(a(360),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BrandCard "+this.props.className},r.a.createElement("h1",{class:"BrandCard_title"},this.props.title),this.props.children)}}]),t}(n.Component)),Rt=a(29),Ht=a.n(Rt),Dt=(a(362),_t(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Bt,{className:"CounterPartyLinkCard",title:"Swap Initiated"},r.a.createElement("img",{class:"CounterPartyLinkCard_icon",src:Ht.a}),r.a.createElement("p",{class:"CounterPartyLinkCard_description"},"To continue, share this link with your counterparty"),r.a.createElement("p",null,r.a.createElement(xe,{wide:!0,secondary:!0,onClick:this.props.onCopyClick,icon:kt.a},"Counterparty Link")),r.a.createElement("p",null,r.a.createElement(xe,{wide:!0,primary:!0,onClick:this.props.onNextClick},"Link Sent")))}}]),t}(n.Component))),Ft=(a(364),_t(function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Bt,{className:"BackupLinkCard",title:"Backup"},r.a.createElement("img",{class:"BackupLinkCard_icon",src:Ht.a}),r.a.createElement("p",{class:"BackupLinkCard_description"},"You need this link to claim your funds if your browser closes."),r.a.createElement("p",null,r.a.createElement(xe,{wide:!0,secondary:!0,onClick:function(){return e.props.onCopyClick()},icon:kt.a},"Backup Link")),r.a.createElement("p",null,r.a.createElement(xe,{wide:!0,primary:!0,onClick:this.props.onNextClick},"Next")))}}]),t}(n.Component))),Mt=a(120),Ut=a.n(Mt),Vt=(a(366),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Bt,{className:"Waiting",title:"Awaiting Counterparty"},r.a.createElement("p",null,"Thanks to the Atomic Swap you don't need to trust the counterparty and avoid the middlemen."),r.a.createElement("p",null,r.a.createElement("img",{className:"LiqualitySwap_logo",src:Ut.a})),r.a.createElement(Pt,{isClaim:!0}))}}]),t}(n.Component)),Gt=Object(d.connect)(function(e){return{assets:e.swap.assets,expiration:e.swap.expiration,isPartyB:e.swap.isPartyB}},{})(Vt),$t=(a(368),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Bt,{className:"SwapRedemption",title:"Claim Funds"},r.a.createElement("div",{class:"SwapRedemption_confirmation"},r.a.createElement("p",{class:"SwapRedemption_terms"},"Get ",r.a.createElement("strong",null,this.props.assets.b.value," ",q[this.props.assets.b.currency].code),"\xa0for ",r.a.createElement("strong",null,this.props.assets.a.value," ",q[this.props.assets.a.currency].code)),r.a.createElement("p",null,"Thanks to the ",r.a.createElement("strong",null,"Atomic Swap")," you don't need to trust the counterparty and avoid the middleman.")),r.a.createElement(Pt,{isClaim:!0}),r.a.createElement("p",null,r.a.createElement(xe,{wide:!0,primary:!0,onClick:this.props.redeemSwap},"Claim your funds")))}}]),t}(n.Component)),qt=Object(d.connect)(function(e){return{assets:e.swap.assets,expiration:e.swap.expiration,isPartyB:e.swap.isPartyB}},{redeemSwap:Ce.redeemSwap})($t),Yt=(a(370),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"SwapCompleted"},r.a.createElement(Qe,{haveCurrency:this.props.assets.a.currency,wantCurrency:this.props.assets.b.currency,haveLabel:"Sent",wantLabel:"Received",icon:Ht.a,onIconClick:function(){return e.props.switchSides()}}),r.a.createElement("div",{class:"SwapCompleted_top"},r.a.createElement(it,{disabled:!0}),r.a.createElement("h2",{class:"SwapCompleted_label"},"Swap Completed"),r.a.createElement("span",{class:"SwapCompleted_handshake"},r.a.createElement("img",{src:Nt.a}))),r.a.createElement("div",{class:"SwapCompleted_bottom"},r.a.createElement(xe,{wide:!0,primary:!0,onClick:function(){return window.location.replace("/")}},"Start another Swap")))}}]),t}(n.Component)),Kt=Object(d.connect)(function(e){return{assets:e.swap.assets}})(Yt),Xt=(a(372),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Bt,{className:"SwapRefund",title:"Refund"},r.a.createElement("div",{class:"SwapRefund_confirmation"},r.a.createElement("p",{class:"SwapRefund_terms"},this.props.assets.a.value," ",q[this.props.assets.a.currency].code),r.a.createElement("p",null,"Your funds are ready for a refund.")),r.a.createElement("p",null,r.a.createElement(xe,{wide:!0,primary:!0,onClick:this.props.refundSwap},"Get Refund")))}}]),t}(n.Component)),Jt=Object(d.connect)(function(e){return{assets:e.swap.assets,expiration:e.swap.expiration,isPartyB:e.swap.isPartyB}},{refundSwap:Ce.refundSwap})(Xt),zt=a(49),Zt=(a(374),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=N.findIndex(function(t){return t.id===e.props.state}),a=r.a.createElement(zt.b,{classes:{active:"SwapProgressStepper_connector_active",completed:"SwapProgressStepper_connector_completed",line:"SwapProgressStepper_connector_line",root:"SwapProgressStepper_connector"}});return r.a.createElement(zt.d,{connector:a,activeStep:t,alternativeLabel:!0,className:"SwapProgressStepper"},N.map(function(e,a){var n={classes:{root:"SwapProgressStepper_icon",text:"SwapProgressStepper_icon_text",active:"SwapProgressStepper_icon_active",completed:"SwapProgressStepper_icon_completed"}};return a<t&&(n.icon=r.a.createElement("img",{src:Ht.a})),r.a.createElement(zt.a,{key:e.id},r.a.createElement(zt.c,{classes:{label:"SwapProgressStepper_label",alternativeLabel:"SwapProgressStepper_alternativeLabel",active:"SwapProgressStepper_label_active",completed:"SwapProgressStepper_label_completed"},StepIconProps:n},e.label))}))}}]),t}(n.Component)),Qt=a(121),ea=a.n(Qt),ta=(a(393),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getCounterPartyLinkCard=a.getCounterPartyLinkCard.bind(Object(Se.a)(Object(Se.a)(a))),a.getBackupLinkCard=a.getBackupLinkCard.bind(Object(Se.a)(Object(Se.a)(a))),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getBackupLinkCard",value:function(){var e=this,t=this.props.swap.link;return r.a.createElement(Ft,{link:t,onNextClick:function(){return e.props.history.push(e.props.swap.isPartyB?"/waiting":"/counterPartyLink")}})}},{key:"getCounterPartyLinkCard",value:function(){var e=this,t=re(this.props.swap,!0);return r.a.createElement(Dt,{link:t,onNextClick:function(){e.props.waitForSwapConfirmation()}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"LiqualitySwap"},r.a.createElement("div",{className:"LiqualitySwap_bar"}),r.a.createElement("div",{className:"LiqualitySwap_header"},r.a.createElement("img",{className:"LiqualitySwap_logo",src:ea.a}),r.a.createElement(Zt,{state:this.props.swap.step})),r.a.createElement("div",{className:"LiqualitySwap_main"},r.a.createElement("div",{className:"LiqualitySwap_wave"}),r.a.createElement("div",{className:"LiqualitySwap_wrapper"},r.a.createElement(Oe.a,{exact:!0,path:"/",component:Wt}),r.a.createElement(Oe.a,{path:"/backupLink",render:this.getBackupLinkCard}),r.a.createElement(Oe.a,{path:"/counterPartyLink",render:this.getCounterPartyLinkCard}),r.a.createElement(Oe.a,{path:"/waiting",component:Gt}),r.a.createElement(Oe.a,{path:"/redeem",component:qt}),r.a.createElement(Oe.a,{path:"/completed",component:Kt}),r.a.createElement(Oe.a,{path:"/refund",component:Jt}))))}}]),t}(n.Component)),aa=Object(ge.a)(Object(d.connect)(function(e){return{swap:e.swap}},{waitForSwapConfirmation:Ce.waitForSwapConfirmation,waitForSwapClaim:Ce.waitForSwapClaim})(ta)),na=a(19),ra=a.n(na);function ca(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,c=e[r.type];return c?c(n,r):a?a(n,r):n}}var sa,ia=ca((Ot={},Object(Q.a)(Ot,se.SWITCH_SIDES,function(e,t){var a=+(parseFloat(e.b.value)/parseFloat(e.a.value)).toFixed(6);return ra()(e,{a:{$set:e.b},b:{$set:e.a},rate:{$set:{value:a.toString()}}})}),Object(Q.a)(Ot,et.CHANGE_AMOUNT,function(e,t){return ra()(e,Object(Q.a)({},t.party,{value:{$set:t.newValue}}))}),Ot),{a:{currency:"eth",value:null},b:{currency:"btc",value:null},rate:{value:null}});var oa=ca((sa={},Object(Q.a)(sa,se.SWITCH_SIDES,function(e,t){return ra()(e,{a:{$set:e.b},b:{$set:e.a}})}),Object(Q.a)(sa,je.TOGGLE_WALLET_CONNECT,function(e,t){return ra()(e,Object(Q.a)({},t.party,{connectOpen:{$set:!e[t.party].connectOpen},anchorEl:{$set:t.target}}))}),Object(Q.a)(sa,je.CHOOSE_WALLET,function(e,t){return ra()(e,Object(Q.a)({},t.party,{chosen:{$set:!0},type:{$set:t.wallet}}))}),Object(Q.a)(sa,je.CONNECT_WALLET,function(e,t){return ra()(e,Object(Q.a)({},t.party,{addresses:{$set:t.addresses},connected:{$set:!0},balance:{$set:t.balance}}))}),Object(Q.a)(sa,je.DISCONNECT_WALLET,function(e,t){return ra()(e,Object(Q.a)({},t.party,{addresses:{$set:[]},connected:{$set:!1},chosen:{$set:!1},type:{$set:""}}))}),sa),{a:{addresses:[],balance:null,connectOpen:!1,connected:!1,chosen:!1,type:""},b:{addresses:[],balance:null,connectOpen:!1,connected:!1,chosen:!1,type:""}});var la=ca(Object(Q.a)({},ot.CHANGE_COUNTER_PARTY_ADDRESS,function(e,t){return ra()(e,Object(Q.a)({},t.currency,{address:{$set:t.newValue},valid:{$set:t.valid}}))}),{eth:{address:"",valid:!1},btc:{address:"",valid:!1}});var ua,pa=ca(Object(Q.a)({},I.SET_TRANSACTION,function(e,t){return ra()(e,Object(Q.a)({},t.party,Object(Q.a)({},t.kind,{$set:Object(St.a)({confirmations:0},t.tx)})))}),{a:{fund:{},claim:{}},b:{fund:{},claim:{}}});var da=ca((ua={},Object(Q.a)(ua,H.SET_SECRET,function(e,t){return ra()(e,{secret:{$set:t.secret},secretHash:{$set:_.crypto.sha256(t.secret)}})}),Object(Q.a)(ua,H.SET_SECRET_HASH,function(e,t){return ra()(e,{secretHash:{$set:t.secretHash}})}),ua),{}),ma=Object(m.c)({assets:ia,wallets:oa,counterParty:la,transactions:pa,secretParams:da,step:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.INITIATION,t=arguments.length>1?arguments[1]:void 0;return t.type===se.SET_STEP?t.step:e},expiration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===se.SET_EXPIRATION?t.expiration:e},link:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===se.SET_LINK?t.link:e},isVerified:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===se.SET_IS_VERIFIED?t.isVerified:e},isPartyB:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}),ha=Object(m.c)({swap:ma}),fa=(a(395),Object(f.a)({basename:window.location.pathname}));b.hotjar.initialize(1102216,6);var ya={swap:ce(window.location)},ba=Object(m.d)(Object(y.connectRouter)(fa)(ha),ya,Object(m.a)(h.a,Object(y.routerMiddleware)(fa)));ya.swap&&(ya.swap.transactions.a.fund.hash&&ba.dispatch(Ce.waitForExpiration),ya.swap.isPartyB&&(ba.dispatch(R.setTransaction("b","fund",ya.swap.transactions.b.fund)),ba.dispatch(Ce.verifyInitiateSwapTransaction)));var Ea,va,wa=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.Provider,{store:ba},r.a.createElement(y.ConnectedRouter,{history:fa},r.a.createElement(aa,null)))}}]),t}(n.Component),Ca=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",{style:{marginTop:"60px",textAlign:"center"}},"MetaMask is needed to run Liquality Atomic Swap. You can download it from here: ",r.a.createElement("a",{href:"https://metamask.io/"},"metamask.io"))}}]),t}(n.Component),ga=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Sa(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}Ea=O.injectScript,(va=document.createElement("script")).type="text/javascript",va.innerHTML=Ea,document.getElementsByTagName("head")[0].appendChild(va),"undefined"===typeof web3?s.a.render(r.a.createElement(Ca,null),document.getElementById("root")):s.a.render(r.a.createElement(wa,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");ga?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Sa(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Sa(e)})}}()},42:function(e,t,a){e.exports=a.p+"static/media/copy.26f38b83.svg"},59:function(e,t,a){e.exports=a.p+"static/media/clock.baea04ec.svg"},61:function(e,t,a){e.exports=a.p+"static/media/handshake.35e4ba88.png"}},[[217,2,1]]]);
//# sourceMappingURL=main.ef7f6131.chunk.js.map